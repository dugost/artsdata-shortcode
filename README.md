# Wordpress shortcodes for Artsdata

This is a Wordpress plugin that adds shortcodes for retrieving and displaying data from Artsdata and Wikidata in a WordPress site. This plugin is currently only used to power the CAPACOA LIVE directory, but it could be used to power other kinds of directories on WordPress websites.

The 3 shortcodes are:
* [artsdata_orgs] => lists organization names from Artsdata located in a source graph
* [artsdata_id] => displays details of a specific entity using ranked graphs from Artsdata
* [artsdata_admin] => displays buttons for admin to reload CAPACOA database or reload data from Wikidata (https://capacoa.ca/en/artsdata-admin/)

## How to install
1. Download the zip file in the release
1. Open WP Admin
1. Navigate to the Plugins panel
1. Click "Add New"
1. Click "Upload Plugin"
1. Activate the plugin

## Sample member profile generated by the plugin
![image](https://github.com/user-attachments/assets/9a2ee63d-250c-47e6-9474-7857f94e47e3)

## Logic for retrieving venue information from Wikidata

The required triples for retrieving venue information are desribed in [this diagram](https://docs.google.com/presentation/d/19S4hyeYmpcu6W7Xh-rSuYpqOuyKND33MoGa6XNZjWEU/edit?usp=sharing): 

<img width="960" height="540" alt="Image" src="https://github.com/user-attachments/assets/9e27b9c0-41b9-4e00-b2b5-1ea6d8573d69" />

# Trouble shooting
The following URLs can be used to test data without passing through a cache.

1. list of members in JSON
http://api.artsdata.ca/query?sparql=https://raw.githubusercontent.com/culturecreates/artsdata-shortcode/refs/heads/master/public/sparql/members.sparql&source=http://kg.artsdata.ca/culture-creates/artsdata-planet-capacoa/capacoa-members

3. Example Organization in JSON
http://api.artsdata.ca/query?adid=K14-29&frame=capacoa/member2&format=json&sparql=https://raw.githubusercontent.com/culturecreates/artsdata-shortcode/refs/heads/master/public/sparql/member_detail.sparql

4. Example Person in JSON
http://api.artsdata.ca/query?adid=K14-141&frame=capacoa/member2&format=json&sparql=https://raw.githubusercontent.com/culturecreates/artsdata-shortcode/refs/heads/master/public/sparql/member_detail.sparql


# Local Wordpress Development
1. Clone this repo
1. Edit docker-compose.yml to set your `volumes` path to your local path for editing the plugin code.
1. Run `docker compose up &`
1. Note: To view social media icons add the following line to artsdata-shortcodes.php `wp_enqueue_style('font-awesome', 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css');`
